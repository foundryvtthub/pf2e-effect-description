(()=>{"use strict";let e="";function t(...t){return`${e}.settings.${t.join(".")}`}function n(t){return game.settings.get(e,t)}function o(n){const o=n.name;n.scope=n.scope??"world",n.config=n.config??!1,n.config&&(n.name=t(o,"name"),n.hint=t(o,"hint")),Array.isArray(n.choices)&&(n.choices=n.choices.reduce(((e,n)=>(e[n]=t(o,"choices",n),e)),{})),game.settings.register(e,o,n)}function i(...t){let[n,o]=t;return n=`${e}.${n}`,o?game.i18n.format(n,o):game.i18n.localize(n)}function c(e,t){const n=e.currentTarget.closest(".effect-item[data-item-id]").dataset.itemId;return t.actor?.items.get(n)}function a(){game.pf2e.effectPanel?.render()}e||(e="pf2e-effect-description"),Hooks.once("init",(()=>{o({name:"remove",type:Boolean,default:!0,scope:"client",config:!0,onChange:a}),o({name:"sheet",type:Boolean,default:!0,scope:"client",config:!0,onChange:a}),o({name:"chat",type:Boolean,default:!0,scope:"client",config:!0,onChange:a})})),Hooks.on("renderEffectsPanel",(function(e,t){!function(e){let t="";n("remove")&&(t+=`<p>${i("remove")}</p>`),n("sheet")&&(t+=`<p>${i("sheet")}</p>`),n("chat")&&(t+=`<p>${i("chat")}</p>`),e.find(".instructions").append(t)}(t),function(e,t){e.find(".effect-item[data-item-id] .icon").each(((e,o)=>{o.addEventListener("click",(e=>function(e,t){if(!(e.ctrlKey&&n("sheet")))return;const o=c(e,t);o&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),o.sheet.render(!0))}(e,t)),!0),o.addEventListener("contextmenu",(e=>function(e,t){const o=e.ctrlKey&&n("chat"),i=e.shiftKey&&n("remove");if(!o&&!i)return;const a=c(e,t);a&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),o?a.toMessage():a.delete())}(e,t)),!0)}))}(t,e)}))})();
//# sourceMappingURL=main.js.map